%#!luajitlatex -shell-escape kbtable
\documentclass[landscape]{article}
\usepackage{fontspec,unicode-math,xcolor,graphicx}
\newdimen\DX
\DX=1.25\baselineskip
\paperwidth=28.666\dimexpr\DX+\fboxsep+\fboxrule\relax
\advance\paperwidth20pt
\paperheight=20\baselineskip
\advance\paperheight20pt
\usepackage[margin=10pt]{geometry}
\usepackage{menukeys}
\setmainfont{TeX Gyre Heros}
\setsansfont[Ligatures=TeX]{DejaVu Sans}
\setmathfont{XITS Math}

\ifdefined\BACKCOLOR
  \def\FORECOLOR{white}
  \def\LINECOLOR{black!33!white}
  \definecolor{cyan}{rgb}{0,1,1}
\else
  \def\FORECOLOR{black}
  \def\BACKCOLOR{white}
  \def\LINECOLOR{black!66!white}
  \definecolor{cyan}{rgb}{0,0.25,1}
\fi

\pagecolor{\BACKCOLOR}
\begin{document}
\sf\parindent0pt

\def\K#1#2#3#4{%
\fbox{\vbox{\hsize=2\DX{%
  \noindent\smash{\textcolor{\FORECOLOR}{\rm\large\strut#2}}%
    \hfill \textcolor{cyan}{\large\strut#4}\\
  \textcolor{\FORECOLOR}{\null\rm\large\strut#1}\hfill\textcolor{cyan}{\large#3}}}}%
\ignorespaces}
\def\W#1#2{%
\fbox{\vbox{\hsize=#1\dimexpr\DX+\fboxsep+\fboxrule\relax
\advance\hsize-2\fboxrule\advance\hsize-2\fboxsep{%
  \noindent\large\strut\smash{%
    \raisebox{-.7\DX}{\normalsize\rm\textcolor{\LINECOLOR}{#2}}}\\\ \strut
}}}%
\ignorespaces}

\def\X#1#2{%
\fbox{\vbox{\hsize=#1\dimexpr\DX+\fboxsep+\fboxrule\relax
\advance\hsize-2\fboxrule\advance\hsize-2\fboxsep{%
  \noindent\null\hfill\Large\strut\rm\textcolor{\LINECOLOR}{#2}\hfill\null}}}%
\ignorespaces}

\color{\LINECOLOR}

\K{\char`\`}{\char`\~}{≠}{≒}
\K{1}{!}{¬}{}
\K{2}{@}{∅}{⊆}
\K{3}{\#}{§}{¶}
\K{4}{\$}{¤}{£}
\K{5}{\%}{€}{}%"
\K{6}{\char`\^}{∨}{∪}
\K{7}{\&}{∧}{∩}
\K{8}{$*$}{ℵ}{}
\K{9}{(}{⌈}{⌊}
\K{0}{)}{⌉}{⌋}
\K{-}{\_}{≅}{≃}
\K{=}{+}{≡}{∼}
\W{2.66}{\backspace\,BS}

\kern-5.5pt
\null
\W{2.66}{Tab\,\tabwin}
\K{}{Q}{⊂}{ℚ}
\K{}{W}{ω}{Ω}
\K{}{E}{ε}{∃}
\K{}{R}{ρ}{ℝ}
\K{}{T}{τ}{⊤}
\K{}{Y}{η}{Η}
\K{}{U}{υ}{Υ}
\K{}{I}{ι}{∈}
\K{}{O}{ο}{∉}
\K{}{P}{π}{Π}
\K{[}{\{}{$〈$}{⟦}
\K{]}{\}}{$〉$}{⟧}
\K{\char`\\}{|}{‖}{}

\kern-5.5pt
\null
\W{3.33}{CapsLk\,\capslockmac}
\K{}{A}{α}{∀}
\K{}{S}{σ}{Σ}
\K{}{D}{δ}{Δ}
\K{}{F}{φ}{Φ}
\K{}{G}{γ}{Γ}
\K{}{H}{θ}{Θ}
\K{}{J}{⊦}{⊩}
\K{}{K}{κ}{Κ}
\K{}{L}{λ}{Λ}
\K{;}{:}{∴}{∵}
\K{'}{"}{}{}%"
\W{3.33}{\returnwin\,Enter}

\kern-5.5pt
\null
\W4{\shift Shift}
\K{}{Z}{ζ}{ℤ}
\K{}{X}{ξ}{Ξ}
\K{}{C}{χ}{ℂ}
\K{}{V}{ψ}{Ψ}
\K{}{B}{β}{⊥}
\K{}{N}{ν}{ℕ}
\K{}{M}{μ}{⊧}
\K{,}{<}{≤}{≦}
\K{.}{>}{≥}{≧}
\K{/}{?}{↔}{⇔}
\W{4.66}{\shift\,Shift}

\kern-5.5pt
\null
\W2{Fn}
\W2{Ctrl}
\W2{\Large\raisebox{-.2ex}{\fontspec{wingding.ttf}\char"02C7}}%"
\W2{Alt}
\W{10}{}
\W2{\textcolor{cyan}{\kern-.1emAltGr}}
\W2{App.}
\W2{Ctrl}
\hskip1.55\dimexpr\DX+\fboxsep+\fboxrule\relax
\smash{\raisebox{\dimexpr\baselineskip+.2pt}{\X{1.56}{↑}}}
\hskip1.55\dimexpr\DX+\fboxsep+\fboxrule\relax

\kern-17pt
\null
\hskip24\dimexpr\DX+\fboxsep+\fboxrule\relax
\X{1.55}{←}\X{1.56}{↓}\X{1.55}{→}

\def\TEMP{white}
\catcode`\&=12
\ifx\BACKCOLOR\TEMP
\write18{%
  luajitlatex -jobname=kbtable-blk %
  '\string\def\string\BACKCOLOR{black}\string\input\space kbtable.tex' &>/dev/null
  && convert -bordercolor black -geometry 1280x800 -resize 1280 -density 300  -border 0x104 kbtable-blk.pdf kbd.png
}
\fi
\end{document}